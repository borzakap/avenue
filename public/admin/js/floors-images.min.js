/*!
 * Borzakap - Idilika Avenue v0.0.1 (https://avenue.idilika.com.ua)
 * Copyright 2021-2021 Borzakap
 */

function floorsLoad(){var s=$("#images-greed"),e=[];s.html(""),e.push({name:"section_id",value:s.data("section")}),$.ajax({url:s.data("action"),method:"POST",data:e,success:function(e){var o=[],t=$('script[data-template="images"]').text().split(/\$\{(.+?)\}/g);$.each(e,function(e,a){o.id=a.id,o.image_name=a.image_name,o.image_code=a.image_code;a=t.map(render(o)).join("");s.append(a)})}})}function render(o){return function(e,a){return a%2?o[e]:e}}$(document).ready(function(){floorsLoad(),$("#floors-upload").on("submit",function(e){$("#floors-upload-btn").prop("disabled"),e.preventDefault(),""==$("#image_file").val()?(alert("Choose File"),$("#floors-upload-btn").prop("enabled"),document.getElementById("floors-upload").reset()):$.ajax({url:$(this).attr("action"),method:"POST",data:new FormData(this),processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(e){1!=e.success&&0!=e.success||$("#upload-messages").html(e.message),setTimeout(function(){$("#upload-messages").html("")},4e3),$("#floors-upload-btn").prop("Enabled"),document.getElementById("floors-upload").reset(),floorsLoad()}})}),$(document).on("submit",".floors-update",function(e){e.preventDefault(),$.ajax({url:$(this).attr("action"),method:"POST",data:new FormData(this),processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(e){console.log(e.message),floorsLoad()}})})});