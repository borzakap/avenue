/*!
 * Borzakap - Idilika Avenue v0.0.1 (https://avenue.idilika.com.ua)
 * Copyright 2021-2021 Borzakap
 */

$(document).ready(function(){$("#plans_images_id").chained("#residential_id"),$("#section_id").chained("#residential_id"),$("#floor_images_id").chained("#section_id"),$("#floor_images_id").on("change",function(){var e=$(this).data("change-url");$(this).val()||$("#poligon-save-btn").attr("disabled",!0);var a=new FormData;a.set("floor_images_id",$(this).val()),$.ajax({url:e,method:"POST",data:a,processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(e){e.success&&($("#polygon").html($("#polygon").html()),$("#polygon").canvasAreaDraw({imageUrl:e.image}))}})}),$("#images_upload").on("submit",function(e){e.preventDefault(),$.ajax({url:$(this).attr("action"),method:"POST",data:new FormData(this),processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(e){!0===e.success?($("#images_alert").show(),$("#images_alert").html('<div class="alert alert-success" role="alert">'+e.message+"</div>")):($("#images_alert").show(),$("#images_alert").html('<div class="alert alert-warning" role="alert">'+e.message+"</div>")),setTimeout(function(){$("#images_alert").hide(),$("#images_alert").html("")},1e4)}})}),$("#poligon_section").on("submit",function(e){e.preventDefault(),$.ajax({url:$(this).attr("action"),method:"POST",data:new FormData(this),processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(e){!0===e.success?($("#section_alert").show(),$("#section_alert").html('<div class="alert alert-success" role="alert">'+e.message+"</div>")):($("#section_alert").show(),$("#section_alert").html('<div class="alert alert-warning" role="alert">'+e.message+"</div>")),setTimeout(function(){$("#section_alert").hide(),$("#section_alert").html("")},1e4)}})}),$("#poligon_plan").on("submit",function(e){e.preventDefault(),$.ajax({url:$(this).attr("action"),method:"POST",data:new FormData(this),processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(e){!0===e.success?($("#plan_alert").show(),$("#plan_alert").html('<div class="alert alert-success" role="alert">'+e.message+"</div>")):($("#plan_alert").show(),$("#plan_alert").html('<div class="alert alert-warning" role="alert">'+e.message+"</div>")),setTimeout(function(){$("#plan_alert").hide(),$("#plan_alert").html("")},1e4)}})})});