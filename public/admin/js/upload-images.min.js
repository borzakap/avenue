/*!
 * Borzakap - Idilika Avenue v0.0.1 (https://avenue.idilika.com.ua)
 * Copyright 2021-2021 Borzakap
 */

function imagesLoad(){var n=$("#images-greed"),a=[];n.html(""),a.push({name:"id",value:n.data("id")}),$.ajax({url:n.data("action"),method:"POST",data:a,success:function(a){console.log(a);var t=$('script[data-template="images"]').text().split(/\$\{(.+?)\}/g);$.each(a,function(a,e){e=t.map(render(e)).join("");n.append(e)})}})}function render(t){return function(a,e){return e%2?t[a]:a}}$(document).ready(function(){var e=$("#upload-images"),t=$("#upload-messages"),n=$("#floors-upload-btn");imagesLoad(),e.on("submit",function(a){n.prop("disabled"),a.preventDefault(),""===$("#image_file").val()?(alert("Choose File"),n.prop("enabled")):$.ajax({url:e.attr("action"),method:"POST",data:new FormData(this),processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(a){console.log(a),!0!==a.success&&!1!==a.success||t.html(a.message),setTimeout(function(){t.html("")},4e3),n.prop("Enabled"),e[0].reset(),imagesLoad()}})}),$(document).on("submit",".update-image",function(a){a.preventDefault(),$.ajax({url:$(this).attr("action"),method:"POST",data:new FormData(this),processData:!1,contentType:!1,cache:!1,dataType:"json",success:function(a){imagesLoad()}})})});